---
lab:
  title: 자동화된 기계 학습 살펴보기
---

# 자동화된 기계 학습 살펴보기

이 연습에서는 자동화된 Machine Learning을 사용하여 기계 학습 모델을 학습하고 평가합니다. 그런 다음 Azure에서 모델을 배포하고 테스트합니다.

> **참고**: 이 연습은***Azure Machine Learning***을 사용하여 모델을 학습하고 테스트하는 단계를 안내하도록 설계되었습니다. 충분한 권한이 있는 Azure 구독이 있는 경우 Azure Machine Learning 작업 영역을 프로비전하고 연습에 사용할 수 있습니다. 그러나 Azure Machine Learning은 대량의 데이터와 클라우드 기반 컴퓨팅을 포함하는 엔터프라이즈 규모 기계 학습 솔루션을 위해 설계되었습니다. Azure Machine Learning의 일부 작업에는 프로비전 컴퓨팅이 필요하므로 상당한 시간이 걸릴 수 있습니다. Azure에 액세스할 수 없거나 연습을 완료하는 데 시간이 제한된 경우 이 연습에 사용된 Azure ML의 핵심 기능을 포함하는 브라우저 기반***ML Lab*** 앱도 제공되며, Azure ML에서와 마찬가지로 실제 기계 학습 모델을 학습하고 테스트하는 데 사용할 수 있습니다. ML Lab의 사용자 인터페이스는 Azure Machine Learning과*동일*하지 않지만 Azure Machine Learning으로의 전환을 직관적으로 만들기에 충분합니다. ML Lab 앱은 브라우저에서 실행되므로, 어떤 시점이든 페이지를 새로 고치면 앱이 다시 시작됩니다!

이 연습은 완료하는 데 약**35**분이 소요됩니다(브라우저 기반 ML Lab 앱을 사용하는 경우 더 적음).

## 작업 영역 만들기

작업 영역은 모든 기계 학습 리소스를 함께 유지하는 데 사용되므로 데이터, 코드, 모델 및 기타 자산을 한 곳에서 더 쉽게 관리할 수 있습니다.

1. 이 과제에서 사용하려는 환경에 대한 포털을 열고 메시지가 표시되면 로그인합니다.
    - `https://ml.azure.com`의 Azure 기반[Azure Machine Learning 스튜디오](https://ml.azure.com){:target="_blank"}
    - `https://aka.ms/ml-lab`의 브라우저 기반[ML Lab](https://aka.ms/ml-lab){:target="_blank"}

    > **팁**: Azure Machine Learning 스튜디오가 기존 작업 영역에서 열리는 경우**모든 작업 영역**페이지로 이동합니다.

1. 적절한 이름을 사용하여 새 작업 영역을 만듭니다.

    Azure Machine Learning을 사용하는 경우 이 연습에*허브*가 필요하지 않습니다. Azure 구독의 정책 제약 조건에 따라 적절한 고급 설정을 선택합니다.

1. 작업 영역을 만든 후 해당**홈** 페이지를 보려면 해당 작업 영역을 선택합니다.

    작업 영역에는 왼쪽의 탐색 창에 표시되는 여러 페이지가 있습니다. 위쪽의 **&#9776;** 메뉴를 사용하여 이 창을 확장하고 축소할 수 있습니다.

## 데이터 다운로드

이 연습에서는 아이스크림 판매 데이터 세트를 사용하여 계절 및 기상 기능에 따라 지정된 날짜에 아이스크림 수요를 예측하는 모델을 학습시킵니다.

1. 새 브라우저 탭에서`https://aka.ms/mslearn-ml-data`의**[ml-data.zip](https://aka.ms/mslearn-ml-data)** 을 로컬 컴퓨터로 다운로드합니다.
1. 다운로드한**ml-data.zip** 압축 파일을 추출하여 포함된 파일을 확인합니다. 이러한 파일 중 하나는 이 연습에 필요한 아이스크림 판매 데이터를 포함하는**ice-cream.csv** 파일입니다.

## 자동화된 Machine Learning을 사용하여 모델을 학습하세요.

자동화된 기계 학습을 사용하면 여러 알고리즘 및 매개 변수를 사용해 여러 모델을 학습시키고 데이터에 가장 적합한 모델을 식별할 수 있습니다.

1. 포털에서**자동화된 ML**페이지(**작성 중**)를 봅니다.

1. 사용자 인터페이스를 진행하는 데 필요한 경우 다음**을 사용하여 다음 설정을 사용하여**새 자동화된 ML 작업을 만듭니다.

    > **팁**: 아래 단계에서 설정에 대한 명시적 정보가 제공되지 않는 경우 기본값을 사용합니다.

    **기본 설정**

    - 자동화된 Machine Learning 작업에 고유한**작업 이름** 할당

   **작업 유형 및 데이터**:

    - 작업 유형을**회귀**로 설정합니다.
    - **아이스크림**이라는 새***테이블 형식*** 데이터 자산 만들기
        - 로컬**ice-cream.csv** 파일을 기본 작업 영역 스토리지에 업로드합니다.
        - 다음<u>열만</u> 포함합니다(*날짜*는 각 행에 대해 고유하며 자체적으로 예측 기능을 추가합니다.)
            - **DayOfWeek**
            - **월**
            - **온도**
            - **강우량**
            - **IceCreamsSold**
        - 데이터 자산을 만듭니다.
    - 다음 단계로 이동하기 전에 새로 만든**아이스크림** 데이터 자산이 선택되어 있는지 확인합니다.

    > **참고**: 관리자가 아닌 Azure 구독을 사용하는 경우 정책에 따라 스토리지에 대한 키 기반 액세스가 허용되지 않았을 수 있습니다. 이 경우 관리자와 협력하여 키 기반 액세스를 허용하거나 Azure Machine Learning 작업 영역을 다시 구성하여 Entra ID 인증을 사용하여 스토리지에 액세스해야 합니다. 이 작업을 수행할 수 없는 경우 이 연습에 브라우저 기반***ML Lab*** 앱을 사용합니다.

    작업 설정

    - **대상 열**(모델이 예측할 레이블)을**IceCreamsSold**로 설정합니다.
    - **추가 구성 설정**을 지정합니다.
        - **기본 메트릭**을 모델 성능을 평가하는 데 사용할 메트릭으로 설정합니다. 이 연습에서는*R<sup>2</sup>* 점수를 사용합니다.
        - 시도하려는 모델 알고리즘을 선택하거나 모두 선택된 상태로 둡니다.
    - **기능화 설정** 설정:
        - 이러한 설정을 사용하여 기능화를 사용자 지정합니다(모델 학습을 위해 데이터 기능을 준비하는 방법).
    - **한도** 설정:
        - 한도를 사용하여 특정 기준에 따라 학습 작업을 일찍 종료합니다. 이 연습에서는 다음 한도를 설정합니다.
            - **메트릭 점수 임계값**: 0.9
            - **실험 시간 제한(분)**: 15
        
        > **참고** Azure Machine Learning을 사용할 때는 가능한 모든 알고리즘 및 기능화 조합에 대해 학습 작업을 실행하는 데 몇 시간이 걸릴 수 있으므로 이러한 제한을 설정하는 것이 중요합니다.

    **컴퓨팅:**

    - **서버리스**컴퓨팅 사용

    **검토**

    - 설정을 검토하고 신중하게 확인합니다. 그런 다음 학습 작업을 제출합니다. 자동으로 시작

1. 작업이 완료될 때까지 기다립니다.

    > **팁**: Azure Machine Learning을 사용하는 경우 시간이 오래 걸릴 수 있습니다. 커피 타임을 가지기에 딱 좋습니다!

## 최적 모델 검토

자동화된 기계 학습 작업이 완료되면 학습된 최상의 모델을 검토할 수 있습니다.

1. 작업 세부 정보 페이지의**개요** 탭에서 작업에 대한 정보를 보고 최상의 모델 요약을 확인합니다.
  
1. 최적 모델의**알고리즘 이름**을 선택하여 세부 정보를 확인합니다. 그런 다음 자식 작업 세부 정보 페이지에서 다음 탭을 봅니다.
    - **개요**: 자식 작업에 대한 일반 세부 정보입니다.
    - **모델**: 학습된 모델에 대한 정보입니다.
    - 학습 프로세스 중에 사용된 테스트 데이터를 기반으로 모델에 대한**메트릭** 평가 메트릭 및 시각화입니다.
    - **출력 및 로그**: 학습 프로세스 중에 기록된 정보입니다.

## 모델 배포 및 테스트

1. 자동화된 Machine Learning 작업으로 학습된 최상의 모델에 대한**모델** 탭에서**배포**를 선택하여 실시간 엔드포인트에 모델을 배포합니다.

    배포된 엔드포인트가 실행되는 컴퓨팅에 적절한** 인스턴스** 및**가상 머신** 옵션을 선택하고(Azure 구독에서 사용 가능한 할당량에 따라 달라질 수 있음) 적절한**엔드포인트** 및**배포** 이름을 할당합니다.

1. 배포가 완료되었다는 알림을 기다립니다.

    > **팁**: Azure Machine Learning 스튜디오에서 엔드포인트 배포에는 5~10분이 걸릴 수 있습니다.

## 배포된 서비스 테스트

이제 배포된 서비스를 테스트할 수 있습니다.

1. 탐색 메뉴에서**엔드포인트**페이지를 선택하고 만든 실시간 엔드포인트를 엽니다.

1. 엔드포인트 페이지에서**테스트** 탭을 봅니다.

1. **실시간 엔드포인트를 테스트할 입력 데이터** 창에서 템플릿 JSON을 다음 입력 데이터로 바꿉니다.

    ```json
   {
     "input_data": {
        "columns": [
            "DayOfWeek",
            "Month",
            "Temperature",
            "Rainfall"
        ],
        "index": [0],
        "data": [["Wednesday","June",70.5,0.05]]
     }
   }
    ```

1. **테스트** 단추를 클릭합니다.

1. 입력 기능에 따라 예측된 대여 수를 포함하는 테스트 결과를 검토합니다.

    ```JSON
   [
       120.16208168753236
   ]
    ```

    테스트 창에서는 입력 데이터를 사용하고 예측된 대여 수를 반환하도록 학습한 모델을 사용했습니다.

## 모델을 이용하는 코드 보기

이제 예측 모델이 있으므로 개발자는 이를 사용하는 애플리케이션을 빌드할 수 있습니다.

1. 실시간 엔드포인트 페이지에서**이용** 탭을 확인합니다.
1. 샘플 코드를 검토하여 모델을 사용합니다.

## 시간이 되면

자동화된 Machine Learning을 추가로 실험하려면 이전에 다운로드한**ml-data.zip** 보관 파일에 포함된**penguins.csv** 파일을 기반으로**분류** 모델을 학습해 보세요. 이 데이터 세트의 모든 열을 사용합니다.

분류 모델을 학습하고 배포한 후 다음 JSON을 사용하여 엔드포인트에서 테스트할 수 있습니다.

```json
{
    "input_data": {
    "columns": [
        "CulmenLength",
        "CulmenDepth",
        "FlipperLength",
        "BodyMass"
    ],
    "index": [0],
    "data": [[45.2,13.8,215,4750]]
    }
}
```

## 정리

Azure Machine Learning을 사용하여 이 연습을 완료한 경우 불필요한 Azure 사용량이 발생하지 않도록 만든 리소스를 삭제해야 합니다.

1. [Azure Machine Learning 스튜디오](https://ml.azure.com)의**엔드포인트** 탭에서 배포한 엔드포인트를 선택합니다. 그런 다음,**삭제**를 선택하고 엔드포인트를 삭제하겠다고 확인합니다.

    컴퓨팅을 중지하면 컴퓨팅 리소스에 대한 구독 요금이 청구되지 않습니다. 그러나 구독에 Azure Machine Learning 작업 영역이 존재하는 동안에는 약간의 데이터 스토리지 요금이 청구됩니다. Azure Machine Learning 탐색을 완료했으면 Azure Machine Learning 작업 영역 및 관련 리소스를 삭제할 수 있습니다.

작업 영역을 삭제하려면,

1. [Azure Portal](https://portal.azure.com)의**리소스 그룹** 페이지에서 Azure Machine Learning 작업 영역을 만들 때 지정한 리소스 그룹을 엽니다.
2. **리소스 그룹 삭제**를 클릭하고 삭제하고자 하는 리소스 그룹 이름을 입력한 다음**삭제**를 선택합니다.
