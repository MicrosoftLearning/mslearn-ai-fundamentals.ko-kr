---
lab:
  title: Vision Studio에서 이미지 분석
---

# Vision Studio에서 이미지 분석 

**Azure AI 비전**에는 이미지 콘텐츠와 컨텍스트를 이해하고 이미지에서 정보를 추출하기 위한 다양한 기능이 포함되어 있습니다. Azure AI 비전 Studio를 사용하면 다양한 이미지 분석 기능을 시험해 볼 수 있습니다. 

이번 연습에서 Vision Studio를 사용하여 기본으로 제공되는 체험판 경험을 통해 이미지를 분석합니다. 가상의 소매점인 *Northwind Traders*가 AI 서비스에서 매장을 모니터링하여 도움이 필요한 고객을 식별하고 직원에게 도움을 주도록 지시하는 "스마트 스토어"를 구현하기로 결정했다고 가정해 보겠습니다. Azure AI 비전을 사용하면 저장소 전체에서 카메라로 촬영한 이미지를 분석하여 묘사된 내용에 대한 의미 있는 설명을 제공할 수 있습니다.

## Azure AI 서비스 리소스를 생성합니다

**Azure AI 서비스** 다중 서비스 리소스와 함께 Azure AI 비전의 이미지 분석 기능을 사용할 수 있습니다. 아직 만들지 않았다면 Azure 구독에서 **Azure AI 언어 서비스** 리소스를 만듭니다.

1. 다른 브라우저 탭에서 [https://portal.azure.com](https://portal.azure.com?azure-portal=true)의 Azure Portal을 열고 Azure 구독과 연결된 Microsoft 계정으로 로그인합니다.

1. **65291을 클릭합니다. 리소스** 단추를 만들고 Azure AI 서비스를 검색*합니다*. Azure AI 서비스 계획 만들기****를** 선택합니다**. 페이지로 이동하여 Azure AI 서비스 리소스를 만듭니다. 다음 설정을 사용하여 PuTTY를 구성합니다.
    - **구독**: *자신의 Azure 구독*.
    - **리소스 그룹**: *고유한 이름이 있는 리소스 그룹을 선택하거나 생성*합니다.
    - **지역**: *지리적으로 가장 가까운 지역을 선택합니다. 미국 동부에 있는 경우 "미국 동부 2"* 를 사용합니다.
    - **이름**: 고유한 이름을 입력합니다.
    - **가격 책정 계층**: *표준 S0.*
    - **이 상자를 선택함으로써 나는 아래의 모든 용어를 읽고 이해했음을 인정합니다.** *선택됨*.

1. **검토 + 만들기**를 선택한 다음 **만들기**를 선택하고 배포가 완료될 때까지 기다립니다.

## Azure AI 서비스 리소스를 Vision Studio에 연결

다음으로 위에서 프로비전한 Azure AI 서비스 리소스를 Vision Studio에 연결합니다.

1. 다른 브라우저 탭에서 [Vision Studio](https://portal.vision.cognitive.azure.com?azure-portal=true)로 이동합니다.

1. 계정으로 로그인하고 Azure AI 서비스 리소스를 만든 디렉터리와 동일한 디렉터리를 사용하고 있는지 확인합니다.

1. Vision Studio 홈페이지의 **Vision 시작** 제목 아래에서 **모든 리소스 보기**를 선택합니다.

    ![모든 리소스 보기 링크는 Vision Studio에서 Vision 시작 아래에 강조 표시되어 있습니다.](./media/analyze-images-vision/vision-resources.png)

1. **작업할 리소스 선택** 페이지에서 목록에서 위에서 만든 리소스 위에 마우스 커서를 가리키고 리소스 이름 왼쪽에 있는 확인란을 선택한 다음 **기본 리소스로 선택**을 선택합니다.

    > **참고**: 리소스가 목록에 없으면 페이지를 **새로 고침**해야 할 수도 있습니다.

    ![cog-ms-learn-vision-SUFFIX Cognitive Services 리소스가 강조 표시되고 선택된 상태로 작업할 리소스 선택 대화 상자가 표시됩니다. 기본 리소스로 선택 단추가 강조 표시됩니다.](./media/analyze-images-vision/default-resource.png)

1. 화면 오른쪽 상단의 "x"를 선택하여 설정 페이지를 닫습니다.

## 이미지에 대한 캡션 생성

이제 Vision Studio를 사용하여 *Northwind Traders* 저장소에서 카메라로 촬영한 이미지를 분석할 준비가 되었습니다.

Azure AI 비전의 이미지 캡션 기능을 살펴보겠습니다. 이미지 캡션은 **캡션** 및 **조밀 캡션** 기능을 통해 사용할 수 있습니다.

1. 웹브라우저에서 [Vision Studio](https://portal.vision.cognitive.azure.com?azure-portal=true)로 이동합니다.

1. **Vision 시작** 방문 페이지에서 **이미지 분석** 탭을 선택한 다음 **이미지에 캡션 추가** 타일을 선택합니다.

    ![Vision Studio 홈페이지에서 이미지 분석 탭이 선택되고 강조 표시됩니다. 이미지에 캡션 추가 타일이 강조 표시됩니다.](./media/analyze-images-vision/add-captions.png)

1. **시도** 부제목 아래에서 확인란의 내용을 읽고 선택하여 리소스 사용 정책을 승인합니다.  

1. **image-analytic.zip**을 다운로드하려면 [**https://aka.ms/mslearn-images-for-analysis**](https://aka.ms/mslearn-images-for-analysis)을 선택합니다. 컴퓨터에서 폴더를 열고 **store-camera-1.jpg**라는 파일을 찾습니다. 여기에는 다음 이미지가 포함되어 있습니다.

    ![상점에 있는 자식의 사진을 찍기 위해 휴대폰 카메라를 사용하는 부모의 이미지](./media/analyze-images-vision/store-camera-1.jpg)

1. **store-camera-1.jpg** 이미지를 **여기에 파일을 끌어서 놓기** 상자로 끌거나 파일 시스템에서 찾아 업로드합니다.

1. 이미지 오른쪽에 있는 **검색된 특성** 패널에 표시되는 생성된 캡션 텍스트를 살펴봅니다.

    **캡션** 기능은 이미지 콘텐츠를 설명하는 내용으로 사람이 읽을 수 있는 단일 영어 문장을 제공합니다.

1. 다음으로 동일한 이미지를 사용하여 **조밀 캡션**을 수행합니다. **Vision Studio** 홈페이지로 돌아가 이전과 마찬가지로 **이미지 분석** 탭을 선택한 다음 **조밀 캡션** 타일을 선택합니다.

    **조밀 캡션** 기능은 이미지에 사람이 읽을 수 있는 여러 캡션을 제공한다는 점에서 **캡션** 기능과 다릅니다. 하나는 이미지의 콘텐츠를 설명하고 다른 하나는 그림에서 검색된 필수 개체를 포함합니다. 검색된 각 개체에는 개체와 관련된 이미지 내의 픽셀 좌표를 정의하는 경계 상자가 포함되어 있습니다.

1. **검색된** 특성 목록에 있는 캡션 중 하나를 마우스로 가리키고 이미지 내에서 어떤 일이 일어나는지 관찰합니다.

    ![이미지와 해당 캡션이 표시됩니다.](./media/analyze-images-vision/dense-captioning.png)

    목록의 다른 캡션 위로 마우스 커서를 이동하고 캡션을 생성하는 데 사용된 이미지 부분을 강조 표시하기 위해 이미지에서 경계 상자가 어떻게 이동하는지 확인합니다.

## 이미지 태그 지정

다음으로 시도해 볼 기능은 **태그 추출** 기능입니다. 태그 추출은 생명체, 풍경, 행동을 포함하여 인식 가능한 수천 개의 개체를 기반으로 합니다.

1. Vision Studio 홈페이지로 돌아가서 **이미지 분석** 탭 아래에서 **이미지에서 공통 태그 추출** 타일을 선택합니다.

2. **시도하려는 모델 선택**에서 **미리 빌드된 제품과 간격 모델 비교**를 선택된 상태로 둡니다. **언어 선택**에서 **영어** 또는 원하는 언어를 선택합니다.

3. 다운로드한 이미지가 포함된 폴더를 열고 다음과 같은 **store-image-2.jpg** 파일을 찾습니다.

    ![슈퍼마켓에서 장바구니를 들고 있는 사람의 이미지](./media/analyze-images-vision/store-camera-2.jpg)

4. **store-camera-2.jpg** 파일을 업로드합니다.

5. 검색된 특성 패널에서 이미지에서 추출된 태그 목록과 각 태그에 대한 신뢰도 점수를 검토합니다. 여기서 신뢰도 점수는 검색된 특성에 대한 텍스트가 이미지에 실제로 무엇이 있는지 설명하는 가능성입니다. 태그 목록에는 개체뿐만 아니라 *쇼핑*, *판매*, *일어서기*과 같은 행동도 포함되어 있습니다.

    ![원본 이미지 옆에 텍스트와 신뢰도 점수가 표시된 Vision Studio의 특성 검색 패널의 스크린샷.](./media/analyze-images-vision/detect-attributes.png)

## 개체 감지

이 작업에서는 이미지 분석의 **개체 감지** 기능을 사용합니다. 개체 감지는 인식 가능한 수천 개의 개체와 생명체를 기반으로 경계 상자를 검색하고 추출합니다.

1. Vision Studio 홈페이지로 돌아가서 **이미지 분석** 탭 아래에서 **이미지에서 공통 개체 검색** 타일을 선택합니다.

1. **시도하려는 모델 선택**에서 **미리 빌드된 제품과 간격 모델 비교**를 선택된 상태로 둡니다.

1. 다운로드한 이미지가 포함된 폴더를 열고 다음과 같은 **store-camera-3.jpg**라는 파일을 찾습니다.

    ![쇼핑 카트가 있는 사람의 이미지](./media/analyze-images-vision/store-camera-3.jpg)

1. **store-camera-3.jpg** 파일을 업로드합니다.

1. **검색된 특성** 상자에서 검색된 개체 목록과 해당 신뢰도 점수를 확인합니다.

1. **검색된 특성** 목록의 개체 위에 마우스 커서를 올려 이미지에서 개체의 경계 상자를 강조 표시합니다.

1. 슬라이더 오른쪽에 값 70이 표시될 때까지 **임계값** 슬라이더를 이동합니다. 목록의 개체에 어떤 일이 일어나는지 관찰합니다. 임계값 슬라이더는 신뢰도 점수 또는 임계값보다 큰 확률로 식별된 개체만 표시되도록 지정합니다.

## 정리

더 이상 연습할 생각이 없다면 더 이상 필요하지 않은 리소스를 삭제합니다. 이렇게 하면 불필요한 비용이 발생하는 것을 방지할 수 있습니다.

1.  [Azure Portal]( https://portal.azure.com)을 열고 만든 리소스가 포함된 리소스 그룹을 선택합니다. 
1.  리소스를 선택하고 **삭제**를 선택한 다음 **예**를 선택하여 확인합니다. 그러면 리소스가 삭제됩니다.

## 자세한 정보

이 서비스로 수행할 수 있는 작업에 대해 자세히 알아보려면 [Azure AI 비전 페이지](https://learn.microsoft.com/azure/ai-services/computer-vision/overview)를 참조하세요.
